{"ast":null,"code":"\"use client\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminStudent=()=>{const[admissions,setAdmissions]=useState([]);const[error,setError]=useState(null);// Fetch admissions when the component mounts\nuseEffect(()=>{const fetchAdmissions=async()=>{try{const response=await axios.get(\"http://localhost:8000/admissions/\");// Replace with your backend URL\nsetAdmissions(response.data);}catch(err){setError(\"Failed to fetch admissions. Please try again later.\");}};fetchAdmissions();},[]);// Handle the deletion of an admission by ID\nconst handleDelete=async id=>{try{// Send a DELETE request to the backend\nawait axios.delete(\"http://localhost:8000/admissions/\".concat(id));// Replace with your backend URL\n// Update the state to remove the deleted admission from the UI\nsetAdmissions(prevAdmissions=>prevAdmissions.filter(admission=>admission._id!==id));}catch(err){setError(\"Failed to delete admission. Please try again later.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 min-h-screen flex flex-col items-center py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl w-full px-6 bg-white shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold text-teal-600 text-center mb-8\",children:\"Admin Admissions\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-center mb-4\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto bg-white rounded-lg shadow-md mb-8\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto w-full text-sm text-left text-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-teal-500 text-white\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Student Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Course\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Board\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Standard\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Joining Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Contact No.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Fees\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:admissions.length>0?admissions.map((admission,index)=>/*#__PURE__*/_jsxs(\"tr\",{// Use unique ID as the key\nclassName:\"\".concat(index%2===0?\"bg-gray-50\":\"bg-white\",\" border-b transition-all hover:bg-gray-100\"),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:admission.student_name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:admission.course}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:admission.board}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:admission.standard}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:admission.joining_date}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:admission.address}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:admission.contact_no}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:admission.fees}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-4 py-2 rounded-full shadow-lg transition-colors hover:bg-red-600\",onClick:()=>handleDelete(admission._id)// Pass ID to handleDelete\n,children:\"Delete\"})})]},admission._id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",className:\"text-center py-4 text-gray-500\",children:\"No admissions found.\"})})})]})})]})});};export default AdminStudent;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminStudent","admissions","setAdmissions","error","setError","fetchAdmissions","response","get","data","err","handleDelete","id","delete","concat","prevAdmissions","filter","admission","_id","className","children","length","map","index","student_name","course","board","standard","joining_date","address","contact_no","fees","onClick","colSpan"],"sources":["/Users/dineshgaikwad/Desktop/Tesla_Project_Data/Tesla_Frontend/src/admin/AdminStudent.jsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst AdminStudent = () => {\n  const [admissions, setAdmissions] = useState([]);\n  const [error, setError] = useState(null);\n\n  // Fetch admissions when the component mounts\n  useEffect(() => {\n    const fetchAdmissions = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8000/admissions/\"); // Replace with your backend URL\n        setAdmissions(response.data);\n      } catch (err) {\n        setError(\"Failed to fetch admissions. Please try again later.\");\n      }\n    };\n\n    fetchAdmissions();\n  }, []);\n\n  // Handle the deletion of an admission by ID\n  const handleDelete = async (id) => {\n    try {\n      // Send a DELETE request to the backend\n      await axios.delete(`http://localhost:8000/admissions/${id}`); // Replace with your backend URL\n\n      // Update the state to remove the deleted admission from the UI\n      setAdmissions((prevAdmissions) =>\n        prevAdmissions.filter((admission) => admission._id !== id)\n      );\n    } catch (err) {\n      setError(\"Failed to delete admission. Please try again later.\");\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen flex flex-col items-center py-8\">\n      <div className=\"max-w-7xl w-full px-6 bg-white shadow-lg rounded-lg\">\n        <h1 className=\"text-4xl font-extrabold text-teal-600 text-center mb-8\">Admin Admissions</h1>\n\n        {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\n\n        <div className=\"overflow-x-auto bg-white rounded-lg shadow-md mb-8\">\n          <table className=\"table-auto w-full text-sm text-left text-gray-700\">\n            <thead>\n              <tr className=\"bg-teal-500 text-white\">\n                <th className=\"px-6 py-4 font-medium text-sm\">Student Name</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Course</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Board</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Standard</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Joining Date</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Address</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Contact No.</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Fees</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {admissions.length > 0 ? (\n                admissions.map((admission, index) => (\n                  <tr\n                    key={admission._id} // Use unique ID as the key\n                    className={`${\n                      index % 2 === 0 ? \"bg-gray-50\" : \"bg-white\"\n                    } border-b transition-all hover:bg-gray-100`}\n                  >\n                    <td className=\"px-6 py-4\">{admission.student_name}</td>\n                    <td className=\"px-6 py-4\">{admission.course}</td>\n                    <td className=\"px-6 py-4\">{admission.board}</td>\n                    <td className=\"px-6 py-4\">{admission.standard}</td>\n                    <td className=\"px-6 py-4\">{admission.joining_date}</td>\n                    <td className=\"px-6 py-4\">{admission.address}</td>\n                    <td className=\"px-6 py-4\">{admission.contact_no}</td>\n                    <td className=\"px-6 py-4\">{admission.fees}</td>\n                    <td className=\"px-6 py-4\">\n                      <button\n                        className=\"bg-red-500 text-white px-4 py-2 rounded-full shadow-lg transition-colors hover:bg-red-600\"\n                        onClick={() => handleDelete(admission._id)} // Pass ID to handleDelete\n                      >\n                        Delete\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan=\"9\" className=\"text-center py-4 text-gray-500\">\n                    No admissions found.\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminStudent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}