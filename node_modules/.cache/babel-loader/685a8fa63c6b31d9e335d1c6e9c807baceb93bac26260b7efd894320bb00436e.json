{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Chatbot=()=>{const[userMessage,setUserMessage]=useState(\"\");const[chatHistory,setChatHistory]=useState([]);const handleSendMessage=async()=>{if(!userMessage.trim())return;const userChat={sender:\"user\",text:userMessage};setChatHistory(prev=>[...prev,userChat]);try{const response=await axios.post(\"http://127.0.0.1:8000/chatbot/\",{query:userMessage});const botChat={sender:\"bot\",text:response.data.response||\"Sorry, I couldn't understand.\"};setChatHistory(prev=>[...prev,botChat]);}catch(error){const errorChat={sender:\"bot\",text:error.response?error.response.data.detail:\"Error processing your message. Please try again.\"};setChatHistory(prev=>[...prev,errorChat]);}finally{setUserMessage(\"\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 shadow-md rounded-lg p-4 max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-80 overflow-y-auto mb-4 bg-white p-2 rounded-lg\",children:chatHistory.map((chat,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(chat.sender===\"user\"?\"justify-end\":\"justify-start\",\" mb-2\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(chat.sender===\"user\"?\"bg-blue-500 text-white\":\"bg-gray-200 text-black\",\" px-4 py-2 rounded-lg max-w-sm\"),children:chat.text})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userMessage,onChange:e=>setUserMessage(e.target.value),className:\"flex-1 border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500\",placeholder:\"Type your message here...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,className:\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600\",children:\"Send\"})]})]});};export default Chatbot;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Chatbot","userMessage","setUserMessage","chatHistory","setChatHistory","handleSendMessage","trim","userChat","sender","text","prev","response","post","query","botChat","data","error","errorChat","detail","className","children","map","chat","index","concat","type","value","onChange","e","target","placeholder","onClick"],"sources":["/Users/dineshgaikwad/Desktop/Tesla_Project_Data/Tesla_Frontend/src/components/Chatbot.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst Chatbot = () => {\n  const [userMessage, setUserMessage] = useState(\"\");\n  const [chatHistory, setChatHistory] = useState([]);\n\n  const handleSendMessage = async () => {\n    if (!userMessage.trim()) return;\n\n    const userChat = { sender: \"user\", text: userMessage };\n    setChatHistory((prev) => [...prev, userChat]);\n\n    try {\n      const response = await axios.post(\"http://127.0.0.1:8000/chatbot/\", {\n        query: userMessage,\n      });\n      const botChat = { sender: \"bot\", text: response.data.response || \"Sorry, I couldn't understand.\" };\n      setChatHistory((prev) => [...prev, botChat]);\n    } catch (error) {\n      const errorChat = {\n        sender: \"bot\",\n        text: error.response ? error.response.data.detail : \"Error processing your message. Please try again.\",\n      };\n      setChatHistory((prev) => [...prev, errorChat]);\n    } finally {\n      setUserMessage(\"\");\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-50 shadow-md rounded-lg p-4 max-w-md mx-auto\">\n      <div className=\"h-80 overflow-y-auto mb-4 bg-white p-2 rounded-lg\">\n        {chatHistory.map((chat, index) => (\n          <div\n            key={index}\n            className={`flex ${chat.sender === \"user\" ? \"justify-end\" : \"justify-start\"} mb-2`}\n          >\n            <div\n              className={`${\n                chat.sender === \"user\" ? \"bg-blue-500 text-white\" : \"bg-gray-200 text-black\"\n              } px-4 py-2 rounded-lg max-w-sm`}\n            >\n              {chat.text}\n            </div>\n          </div>\n        ))}\n      </div>\n      <div className=\"flex items-center space-x-2\">\n        <input\n          type=\"text\"\n          value={userMessage}\n          onChange={(e) => setUserMessage(e.target.value)}\n          className=\"flex-1 border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500\"\n          placeholder=\"Type your message here...\"\n        />\n        <button\n          onClick={handleSendMessage}\n          className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600\"\n        >\n          Send\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Chatbot;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACS,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAW,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CAACJ,WAAW,CAACK,IAAI,CAAC,CAAC,CAAE,OAEzB,KAAM,CAAAC,QAAQ,CAAG,CAAEC,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAER,WAAY,CAAC,CACtDG,cAAc,CAAEM,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAEH,QAAQ,CAAC,CAAC,CAE7C,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,IAAI,CAAC,gCAAgC,CAAE,CAClEC,KAAK,CAAEZ,WACT,CAAC,CAAC,CACF,KAAM,CAAAa,OAAO,CAAG,CAAEN,MAAM,CAAE,KAAK,CAAEC,IAAI,CAAEE,QAAQ,CAACI,IAAI,CAACJ,QAAQ,EAAI,+BAAgC,CAAC,CAClGP,cAAc,CAAEM,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAEI,OAAO,CAAC,CAAC,CAC9C,CAAE,MAAOE,KAAK,CAAE,CACd,KAAM,CAAAC,SAAS,CAAG,CAChBT,MAAM,CAAE,KAAK,CACbC,IAAI,CAAEO,KAAK,CAACL,QAAQ,CAAGK,KAAK,CAACL,QAAQ,CAACI,IAAI,CAACG,MAAM,CAAG,kDACtD,CAAC,CACDd,cAAc,CAAEM,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAEO,SAAS,CAAC,CAAC,CAChD,CAAC,OAAS,CACRf,cAAc,CAAC,EAAE,CAAC,CACpB,CACF,CAAC,CAED,mBACEH,KAAA,QAAKoB,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnEvB,IAAA,QAAKsB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC/DjB,WAAW,CAACkB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAC3B1B,IAAA,QAEEsB,SAAS,SAAAK,MAAA,CAAUF,IAAI,CAACd,MAAM,GAAK,MAAM,CAAG,aAAa,CAAG,eAAe,SAAQ,CAAAY,QAAA,cAEnFvB,IAAA,QACEsB,SAAS,IAAAK,MAAA,CACPF,IAAI,CAACd,MAAM,GAAK,MAAM,CAAG,wBAAwB,CAAG,wBAAwB,kCAC7C,CAAAY,QAAA,CAEhCE,IAAI,CAACb,IAAI,CACP,CAAC,EATDc,KAUF,CACN,CAAC,CACC,CAAC,cACNxB,KAAA,QAAKoB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CvB,IAAA,UACE4B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEzB,WAAY,CACnB0B,QAAQ,CAAGC,CAAC,EAAK1B,cAAc,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChDP,SAAS,CAAC,qEAAqE,CAC/EW,WAAW,CAAC,2BAA2B,CACxC,CAAC,cACFjC,IAAA,WACEkC,OAAO,CAAE1B,iBAAkB,CAC3Bc,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E,MAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}