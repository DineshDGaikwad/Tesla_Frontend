{"ast":null,"code":"\"use client\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminEnquiry=()=>{const[enquiries,setEnquiries]=useState([]);const[error,setError]=useState(null);// Fetch enquiries when the component mounts\nuseEffect(()=>{const fetchEnquiries=async()=>{try{const response=await axios.get(\"http://localhost:8000/enquiries\");// Replace with your backend URL\nsetEnquiries(response.data);}catch(err){setError(\"Failed to fetch enquiries. Please try again later.\");}};fetchEnquiries();},[]);// Handle the deletion of an enquiry by ID\nconst handleDelete=async id=>{try{// Send a DELETE request to the backend\nawait axios.delete(\"http://localhost:8000/enquiries/\".concat(id));// Replace with your backend URL\n// Update the state to remove the deleted enquiry from the UI\nsetEnquiries(prevEnquiries=>prevEnquiries.filter(enquiry=>enquiry._id!==id));}catch(err){setError(\"Failed to delete enquiry. Please try again later.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 min-h-screen flex flex-col items-center py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl w-full px-6 bg-white shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold text-teal-600 text-center mb-8\",children:\"Admin Enquiries\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-center mb-4\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto bg-white rounded-lg shadow-md mb-8\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto w-full text-sm text-left text-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-teal-500 text-white\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Class\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Board\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-sm\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:enquiries.length>0?enquiries.map((enquiry,index)=>/*#__PURE__*/_jsxs(\"tr\",{// Use unique ID as the key\nclassName:\"\".concat(index%2===0?\"bg-gray-50\":\"bg-white\",\" border-b transition-all hover:bg-gray-100\"),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:enquiry.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:enquiry.class_name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:enquiry.board}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:enquiry.subject}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4\",children:[enquiry.country,\" \",enquiry.phone]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:enquiry.enquiryMessage}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-4 py-2 rounded-full shadow-lg transition-colors hover:bg-red-600\",onClick:()=>handleDelete(enquiry._id)// Pass ID to handleDelete\n,children:\"Delete\"})})]},enquiry._id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"text-center py-4 text-gray-500\",children:\"No enquiries found.\"})})})]})})]})});};export default AdminEnquiry;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminEnquiry","enquiries","setEnquiries","error","setError","fetchEnquiries","response","get","data","err","handleDelete","id","delete","concat","prevEnquiries","filter","enquiry","_id","className","children","length","map","index","name","class_name","board","subject","country","phone","enquiryMessage","onClick","colSpan"],"sources":["/Users/dineshgaikwad/Desktop/Tesla_Project_Data/Tesla_Frontend/src/admin/AdminEnquiry.jsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst AdminEnquiry = () => {\n  const [enquiries, setEnquiries] = useState([]);\n  const [error, setError] = useState(null);\n\n  // Fetch enquiries when the component mounts\n  useEffect(() => {\n    const fetchEnquiries = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8000/enquiries\"); // Replace with your backend URL\n        setEnquiries(response.data);\n      } catch (err) {\n        setError(\"Failed to fetch enquiries. Please try again later.\");\n      }\n    };\n\n    fetchEnquiries();\n  }, []);\n\n  // Handle the deletion of an enquiry by ID\n  const handleDelete = async (id) => {\n    try {\n      // Send a DELETE request to the backend\n      await axios.delete(`http://localhost:8000/enquiries/${id}`); // Replace with your backend URL\n      \n      // Update the state to remove the deleted enquiry from the UI\n      setEnquiries((prevEnquiries) =>\n        prevEnquiries.filter((enquiry) => enquiry._id !== id)\n      );\n    } catch (err) {\n      setError(\"Failed to delete enquiry. Please try again later.\");\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen flex flex-col items-center py-8\">\n      <div className=\"max-w-7xl w-full px-6 bg-white shadow-lg rounded-lg\">\n        <h1 className=\"text-4xl font-extrabold text-teal-600 text-center mb-8\">Admin Enquiries</h1>\n\n        {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\n\n        <div className=\"overflow-x-auto bg-white rounded-lg shadow-md mb-8\">\n          <table className=\"table-auto w-full text-sm text-left text-gray-700\">\n            <thead>\n              <tr className=\"bg-teal-500 text-white\">\n                <th className=\"px-6 py-4 font-medium text-sm\">Name</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Class</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Board</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Subject</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Phone</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Message</th>\n                <th className=\"px-6 py-4 font-medium text-sm\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {enquiries.length > 0 ? (\n                enquiries.map((enquiry, index) => (\n                  <tr\n                    key={enquiry._id} // Use unique ID as the key\n                    className={`${index % 2 === 0 ? \"bg-gray-50\" : \"bg-white\"} border-b transition-all hover:bg-gray-100`}\n                  >\n                    <td className=\"px-6 py-4\">{enquiry.name}</td>\n                    <td className=\"px-6 py-4\">{enquiry.class_name}</td>\n                    <td className=\"px-6 py-4\">{enquiry.board}</td>\n                    <td className=\"px-6 py-4\">{enquiry.subject}</td>\n                    <td className=\"px-6 py-4\">{enquiry.country} {enquiry.phone}</td>\n                    <td className=\"px-6 py-4\">{enquiry.enquiryMessage}</td>\n                    <td className=\"px-6 py-4\">\n                      <button\n                        className=\"bg-red-500 text-white px-4 py-2 rounded-full shadow-lg transition-colors hover:bg-red-600\"\n                        onClick={() => handleDelete(enquiry._id)} // Pass ID to handleDelete\n                      >\n                        Delete\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan=\"7\" className=\"text-center py-4 text-gray-500\">\n                    No enquiries found.\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminEnquiry;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}